\documentclass[a4paper,11pt,twoside]{book}

\usepackage[ngerman,american]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[babel]{csquotes}
\usepackage{lmodern}
\usepackage{hyphenat}

\usepackage{todo}

\usepackage{xspace}
\usepackage[onehalfspacing]{setspace}
\usepackage{emptypage}              % Don't put header/footer on empty pages
\usepackage[
  a4paper,
  twoside,
  bindingoffset=1cm,
  bmargin=3cm,
  hmargin=3cm
]{geometry}
\usepackage[usenames,dvipsnames,table]{xcolor}

%\usepackage[squaren,thinqspace,thinspace]{SIunits}
\usepackage[tableposition=top]{caption}

\usepackage{pdfpages}               % Include PDF pages without overfull boxes

\usepackage[inline]{enumitem}       % Make enumerations a little more compact
\setlist{topsep=0pt,itemsep=2pt}
\setlist[1]{labelindent=6pt}

\usepackage{graphicx}
%\usepackage{tikz-uml}

% Links and PDF properties
\usepackage[
  pdftitle={Dependency Browser for Program Comprehension and Change Impact Analysis of PLC Programs},
  pdfauthor={Peter Feichtinger},
  pdfsubject={Master Thesis},
  pdflang=en,
  colorlinks=true,
  unicode=true,
  pdfstartview=,
  allcolors=black
]{hyperref}

\usepackage[url=false]{biblatex}

% Section X.X in \autoref instead of Subsection X.X
\addto\extrasamerican{%
  \renewcommand{\subsectionautorefname}{\sectionautorefname}
  \renewcommand{\subsubsectionautorefname}{\sectionautorefname}
}

\usepackage{listings}
\lstset{language=Java,
  columns=flexible,
  basicstyle=\small\ttfamily,
  stringstyle=\color{Plum}\slshape,
  commentstyle=\color{OliveGreen}\itshape,
  showstringspaces=false,
  numbers=left,
  numberstyle=\tiny,
  numbersep=5pt,
  escapeinside={(@}{@)},
%  firstnumber=auto,
  frame=single
}

% Some geometry customization
\setlength{\parindent}{0pt}
\setlength{\parskip}{0.5em plus 1.5pt minus 1.5pt}
\setlength{\headheight}{15pt}
\setlength{\tabcolsep}{8pt}
%\renewcommand\floatpagefraction{.95}
%\renewcommand\topfraction{.95}
%\renewcommand\bottomfraction{.95}
%\renewcommand\textfraction{.05}

% Header and footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{}
\fancyhead[ER]{\leftmark}
\fancyhead[OL]{\rightmark}
\fancyhead[OR,EL]{\thepage}
\fancyfoot{}

% Make plain pagestyle fancy
\makeatletter
  \let\ps@plain\ps@fancy
\makeatother

\usepackage{titlesec}
\titleformat{\chapter}{\normalfont\huge\bfseries}{\thechapter}{1em}{}

% Don't put "Chapter X" in the header
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\thechapter.\ #1}}{}}
